<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets">


<h:head>

	<style type="text/css">
body {
	font-family: Georgia, "Times New Roman", Times, serif;
	font-size: 90%;
	background-image: url("img/laplatabici.jpg");
}

/*.ui-icon-close{
					background-color:white;
				}*/

/*Style del header de REGISTRO*/
.styleGreen {
	/*background-color: #5CB85C!important;
				    background: #5CB85C!important;
				     border-width: 10px; */
	color: white;
	background-color: #178501;
	font: 16px sans-serif;
	padding: 10px;
	border-radius: 8px;
	border-color: #178501;
	/*-moz-border-radius: 8px; -webkit-border-radius: 8px;*/
}

.ui-button-text {
	color: white !important;
	font: 16px sans-serif;
	background-color: #5CB85C !important;
}

.ui-button {
	background-color: #5CB85C !important;
	border-color: #5CB85C !important;
}

.ui-panelgrid tr, .ui-panelgrid td {
	border: 0px !important;
	border-radius: 8px;
	/*-moz-border-radius: 8px; -webkit-border-radius: 8px;*/
	border-color: #5CB85C !important;
}

.ui-menubar, #ui-menu-child, .ui-menu {
	background: #178501 !important;
	border: 0px;
}

.ui-menuitem-text {
	color: white;
}

/*style del ¡La plata en bici!*/
.labelLP {
	color: white;
	font: 21px sans-serif;
}

.ui-button-text {
	color: white !important;
	font: 16px sans-serif;
	background-color: #5CB85C !important;
}

.ui-button {
	background-color: #5CB85C !important;
	border-color: #5CB85C !important;
}

/*color del icono del boton entrar*/
.ui-icon-extlink {
	
}

/*el color que pone cuando lo tocas con el puntero*/
.ui-menuitem-link:VISITED {
	color: #5CB85C !important;
	background-color: #5CB85C !important;
}
</style>
	<!-- color:#5CB85C;-->
</h:head>

<h:body>
	 <!-- <ui:include src="resources/header/headerIndex.xhtml">
	 <ui:param name="PersonaBean.email" value="#{PersonaBean.email}" />
	<ui:param name="PersonaBean.pass" value="#{PersonaBean.pass}" /> 
</ui:include>
-->

	<p:menubar id="menubar">
		<p:menuitem value="label">
			<h:outputLabel for="label" value="La Plata en Bici"
				styleClass="labelLP" />
		</p:menuitem>
		
		<f:facet name="options">
			<h:form>
				<p:inputText style="margin-right:10px;" placeholder="Email"
					value="#{PersonaBean.email}" />
				<p:inputText type="password" style="margin-right:10px;" placeholder="Contrasena"
					value="#{PersonaBean.pass}" />
				<p:commandButton value="Entrar" ajax="false"
					action="#{PersonaBean.login}" icon="ui-icon-check"
					validateClient="true" />
			</h:form>
		</f:facet>

	</p:menubar> 

	 <p:confirmDialog message="Usuario/Contraseña invalidos" widgetVar="uci"
		global="true" showEffect="fade" hideEffect="explode">
		<p:commandButton value="Ok" type="button"
		onclick="PF('uci').hide();"
			styleClass="ui-confirmdialog-yes" icon="ui-icon-check" />
	</p:confirmDialog>
 
	<p:spacer height="40px" />


	 <p:panelGrid columns="1"
		style="position:relative; height: 400px;margin:auto;">
		<f:facet name="header">
			<div class="styleGreen">Registrate</div>
		</f:facet>

		<h:form>
			<p:messages id="errorReg" autoUpdate="true" />
			<h:panelGrid columns="2" cellpadding="5">
				<h:outputLabel for="nombre" value="Nombre:" />
					<h:inputText id="nombre" value="#{PersonaBean.usr.nombre}" />


				<p:outputLabel for="nombre" value="Nombre:" />
				<p:inputText id="nombre" value="#{PersonaBean.usr.nombre}"
					validatorMessage="Nombre: caracteres alfabeticos | Long. minima: 4 | Long. maxima: 20"
					required="true">
					<f:validateLength minimum="3" maximum="20" />
					<f:validateRegex pattern="[a-zA-Z]+" />
				</p:inputText>


				<p:outputLabel for="apellido" value="Apellido:" />
				<p:inputText id="apellido" value="#{PersonaBean.usr.apellido}"
					validatorMessage="Apellido: caracteres alfabeticos | Long. minima: 4 | Long. maxima: 20"
					required="true">
					<f:validateLength minimum="3" maximum="20" />
					<f:validateRegex pattern="[a-zA-Z]+" />
				</p:inputText>
				<p:messages for="apellido"/>

				<p:outputLabel for="dni" value="DNI:" />
				<p:inputText id="dni" value="#{PersonaBean.usr.dni}"
					validatorMessage="Dni: solo caracteres numericos | Long. minima: 7 | Long. maxima: 8"
					required="true">
					<f:validateLength minimum="7" maximum="8" />
					<f:validateRegex pattern="[0-9]+" />
				</p:inputText>


				<p:outputLabel for="domicilio" value="Domicilio:" />
				<p:inputText id="domicilio" value="#{PersonaBean.usr.domicilio}"
					required="true" />


				<p:outputLabel for="email" value="Email:" />
				<p:inputText id="email" value="#{PersonaBean.usr.email}"
					required="true" validatorMessage="Email: formato no valido">
					<f:validateRegex
						pattern="^[_A-Za-z0-9-\+]+(\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\.[A-Za-z0-9]+)*(\.[A-Za-z]{2,})$" />

				</p:inputText>

				<p:outputLabel for="sexo" value="Sexo:" />
				<p:selectOneRadio id="sexo" value="#{PersonaBean.usr.sexo}"
					required="true">
					<f:selectItem itemLabel="Masculino" itemValue="Masculino" />
					<f:selectItem itemLabel="Femenino" itemValue="Femenino" />
				</p:selectOneRadio>

				<p:outputLabel for="fechaNac" value="Fecha Nacimiento:" />
				<p:calendar id="fechaNac" value="#{PersonaBean.usr.fechaNacimiento}"
					navigator="true" maxdate="#{PersonaBean.fechaActual}" effect="fold"
					required="true">
					<f:convertDateTime pattern="dd/MM/yy" />
				</p:calendar>

				<f:facet name="footer">
					<div align="center">
						<p:commandButton value="Terminado" ajax="false"
							action="#{PersonaBean.altaUsuario}" icon="ui-icon-check"
							style="width: 300px;margin:auto;" validateClient="true"
							update="errorReg"
							onclick="PF('esperaAlta').show();"
							/>
					</div>
				</f:facet>
			</h:panelGrid>


			<p:confirmDialog
				message="Aguarde un momento. Se estan registrando sus datos..."
				widgetVar="esperaAlta" global="true" showEffect="fade"
				closable="false"
				hideEffect="explode">
			</p:confirmDialog>
	
			<p:confirmDialog
				message="Revise su casilla de correo para la contraseña"
				widgetVar="exitoAlta" global="true" showEffect="fade"
				hideEffect="explode">
				<p:commandButton value="Ok" type="button" onclick="PF('exitoAlta').hide();"
					styleClass="ui-confirmdialog-yes" icon="ui-icon-check" />
			</p:confirmDialog>
			
			<p:confirmDialog
				message="Error. No se pudo registrar el usuario."
				widgetVar="errorAlta" global="true" showEffect="fade"
				hideEffect="explode">
				<p:commandButton value="Ok" type="button" onclick="PF('errorAlta').hide();"
					styleClass="ui-confirmdialog-yes" icon="ui-icon-check" />
			</p:confirmDialog>
			
		</h:form>
	</p:panelGrid>
 


</h:body>
</html>
