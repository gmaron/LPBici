<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"  
    xmlns:h="http://java.sun.com/jsf/html"  
    xmlns:f="http://java.sun.com/jsf/core"  
    xmlns:p="http://primefaces.org/ui"> 
 <h:head>
 
	<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
	<script type="text/javascript" src="http://maps.googleapis.com/maps/api/js?sensor=true"></script>
    <script>
 	// Set the Map variable
      	var map;
      	function initialize() {	
            var myOptions = {
            zoom: 13,
            mapTypeId: google.maps.MapTypeId.ROADMAP
        };
        var all = [
       			["Plaza Islas Malvinas" , "19 e/ 50 y 54"	, "La Plata", "Buenos Aires", "1900", "-34.927526", "-57.960916"],
                ["Plaza San Martin" 	, "Calle 7 y 50"	, "La Plata", "Buenos Aires", "1900", "-34.915030", "-57.949351"],
                ["Meridiano V"			, "17 y 71"			, "La Plata", "Buenos Aires", "1900", "-34.939577", "-57.939270"],
                   
         ];
        var infoWindow = new google.maps.InfoWindow;
        map = new google.maps.Map(document.getElementById('map_canvas'), myOptions);
        // Set the center of the map
       	var pos = new google.maps.LatLng(-34.921439, -57.954848);
        map.setCenter(pos);
        function infoCallback(infowindow, marker) { 
            return function() {
            infowindow.open(map, marker);
        };
  		}			
        function setMarkers(map, all) {
        	var nroEstacion = 1;
           	for (var i in all) {
                    var name 	= all[i][0];
                    var address = all[i][1];
                    var city 	= all[i][2];
                    var state 	= all[i][3];
                    var zip 	= all[i][4];
                    var lat 	= all[i][5];
                    var lng 	= all[i][6];
                    var latlngset;
                    latlngset = new google.maps.LatLng(lat, lng);
                    var marker = new google.maps.Marker({  
                      map: map,  title: city,  position: latlngset  
                    });
                    //Modificar el cartelito para ver el estado de las bicicletas
                    //
                    var content = '<div class="map-content"><h3>' + name + '</h3>' + address + '<br />' + city + ', ' + state + ' ' + zip + '<br /><a href="Estacion'+nroEstacion+'.html"">Ir a estación</a></div>';					
                    var infowindow = new google.maps.InfoWindow();
                      infowindow.setContent(content);
                      google.maps.event.addListener(
                        marker, 
                        'click', 
                        infoCallback(infowindow, marker)
                      );
                    nroEstacion=nroEstacion+1;
                  }
                }			
                // Set all markers in the all variable
                setMarkers(map, all);
              };
      
      
      // Initializes the Google Map
      google.maps.event.addDomListener(window, 'load', initialize);
</script>
	
	
	
</h:head>
<h:body>

	<div class="ui-grid">
		<div class="ui-grid-row">
			<div class="ui-grid-col-4">
				<h:form>
					<p:menu>
						<p:submenu label="Panel de Navegacion">
							<p:menuitem value="Usuarios" 
								icon="ui-icon-star" />							
							<p:menuitem value="Estadisticas" 
								 icon="ui-icon-star" />
						</p:submenu>
					</p:menu>
				</h:form>
			</div>
			<div class="ui-grid-col-8">
				<div id="map_canvas" style="height: 450px; width: 620px;"></div>
			</div>			
		</div>
	</div>

</h:body>
</html>